@{
    ViewBag.Title = "Home Page";
}



    <div class="row">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Status</th>
                    <th>AsignedTo</th>
                    <th>Next Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Items)
                {
                    <tr>
                        <td>@item.Id</td>
                        <td>@item.Status</td>
                        <td>@item.AsignedTo</td>
                        <td>
                            <select id="StatusOption_@item.Id">
                                @foreach (var itemOption in Model.OptionStatus)
                                {
                                    <option value="@itemOption">@itemOption</option>
                                }
                            </select>
                        </td>

                        <td>
                            <a href="javascript::;" onclick="SaveItem('@item.Id', '@item.Status', $('#StatusOption_@item.Id option:selected').text())">Save</a>
                        </td>
                    </tr>

                }
            </tbody>
        </table>
    </div>
<script>
function SaveItem(id,status,nextStatus)
{
item = { Id: id, Status: status, NextStatus: nextStatus }

$.ajax({
url: 'home/guardar',
data: JSON.stringify(item),
type: "POST",
contentType:"application/json",
success: function (mensaje) {

alert(mensaje);
},
error: function () {
alert('Something went wrong');
}
});
}

</script>